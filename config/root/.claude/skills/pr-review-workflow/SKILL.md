---
name: pr-review-workflow
description: PRの変更を並列レビューパイプラインで検証・修正する。論理的正確性・クロスファイル整合性・テスト実行を並列で行い、critical指摘は自動修正。「PRレビューして」「変更をレビュー」などで起動。
---

# PR Review Workflow

並列レビューエージェントによるPRの検証・自動修正パイプライン。

## ワークフロー

1. **並列レビュー**: 3つのTaskエージェントを並列起動
   - **Agent A（正確性）**: 変更ファイルを読み、論理的正確性・型安全性・エッジケースをチェック
   - **Agent B（整合性）**: クロスファイル整合性を確認。import解決・インターフェース契約・呼び出し元の破壊がないか検証
   - **Agent C（テスト）**: `go test ./...` / `npm test` 等を実行し、失敗を収集
2. **集約**: 全指摘をTodoWriteチェックリストに `[critical/warning/style]` で分類
3. **自動修正**: criticalな指摘はEditで即修正し、関連テストを再実行してリグレッション確認
4. **warning修正**: 修正を適用し、変更内容を記録
5. **最終サマリ**: 変更ファイル・テスト結果（before/after）・残存warningを提示

## 入力

- `[BRANCH/PR]`: レビュー対象のブランチまたはPR番号
