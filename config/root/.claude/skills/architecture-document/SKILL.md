---
name: architecture-document
description: 複数リポジトリにまたがるアーキテクチャドキュメントを生成する。並列調査＋ファクトチェックで技術的正確性を担保。「アーキテクチャドキュメント」「設計書を書いて」などで起動。
---

# Architecture Document Generation

複数リポジトリを並列調査し、ファクトチェック付きのアーキテクチャドキュメントを生成する。

## ワークフロー

1. **並列調査**: Taskエージェントをリポジトリ/モジュールごとに並列起動し、ソースコード・設定・READMEからアーキテクチャ事実を抽出
2. **ドラフト作成**: 調査結果を統合し、技術的詳細を含む完全なドラフトを執筆
3. **並列ファクトチェック**: 3つのTaskエージェントを並列起動
   - ファイルパス・importの存在確認
   - CLIフラグ・設定値のソースコードとの整合性検証
   - バージョン番号・依存関係の正確性確認
4. **修正・最終化**: 検出したエラーを修正し、検証できなかった箇所にフラグを立てて最終版を生成

## 出力形式

- Markdown、明確なセクション階層
- 技術的仕様のゼロファクトエラーが目標

## 入力

- `[SYSTEM]`: 対象システム名
- `[REPO1, REPO2, ...]`: 対象リポジトリ一覧
