# フォント設定
font_family      0xProto Nerd Font Mono
bold_font        auto
italic_font      auto
bold_italic_font auto
font_size        14.0

# 文字の太さ調整
text_composition_strategy 0.8 0

# カーソル設定
cursor_shape beam
cursor_blink_interval 0

# ウィンドウ設定
window_padding_width 10
remember_window_size yes
remember_window_position yes
initial_window_width 1200
initial_window_height 800

# タブバー設定
tab_bar_edge top
tab_bar_style powerline
tab_powerline_style slanted
tab_title_template "{bell_symbol}{activity_symbol}{title[:15]}{title[15:] and '…'}"
tab_activity_symbol "● "

# 背景画像設定
background_image ./backgrounds/ねこあつめCode背景.JPG
background_image_layout scaled
background_image_linear no

# 背景透過設定
background_opacity 0.95
dynamic_background_opacity yes

# カラースキーム
include themes/tokyo-night.conf

# パフォーマンス設定
sync_to_monitor yes
repaint_delay 10
input_delay 3

# ベル設定
enable_audio_bell no
visual_bell_duration 0.0

# URL設定
detect_urls yes
url_style curly
open_url_with default
url_prefixes file ftp ftps gemini git gopher http https irc ircs kitty mailto news sftp ssh
url_excluded_characters 
mouse_map cmd+click open_url

# クリップボード設定
copy_on_select yes
strip_trailing_spaces smart

# 補完機能を無効化
shell_integration no-complete

# macOS専用設定
macos_option_as_alt yes
macos_quit_when_last_window_closed no
macos_traditional_fullscreen no

# キーバインド設定
map cmd+c copy_to_clipboard
map cmd+v paste_from_clipboard
map cmd+n new_window
map cmd+w close_window
map cmd+t new_tab_with_cwd
map cmd+shift+t close_tab
map cmd+shift+right next_tab
map cmd+shift+left previous_tab
map cmd+1 goto_tab 1
map cmd+2 goto_tab 2
map cmd+3 goto_tab 3
map cmd+4 goto_tab 4
map cmd+5 goto_tab 5
map cmd+6 goto_tab 6
map cmd+7 goto_tab 7
map cmd+8 goto_tab 8
map cmd+9 goto_tab 9
map cmd+plus change_font_size all +2.0
map cmd+minus change_font_size all -2.0
map cmd+0 change_font_size all 0
map cmd+f toggle_fullscreen
map cmd+shift+f launch --type=overlay --stdin-source=@screen_scrollback fzf --no-sort --no-mouse --exact -i

# ╔═══════════════════════════════════════════════════════════╗
# ║                   分割ウィンドウ（ペイン）設定                    ║
# ╚═══════════════════════════════════════════════════════════╝

# ■ ウィンドウの分割
# 縦に分割（左右に並べる）: cmd+d
map cmd+d launch --location=vsplit --cwd=current
# 横に分割（上下に並べる）: cmd+shift+d
map cmd+shift+d launch --location=hsplit --cwd=current

# ■ ウィンドウ間の移動
# 次のウィンドウへ移動: cmd+]
map cmd+] next_window
# 前のウィンドウへ移動: cmd+[
map cmd+[ previous_window

# ■ ウィンドウの並び替え
# ウィンドウを前へ移動: cmd+shift+]
map cmd+shift+] move_window_forward
# ウィンドウを後ろへ移動: cmd+shift+[
map cmd+shift+[ move_window_backward

# ■ ウィンドウのサイズ調整
# リサイズモード開始: cmd+r（その後、矢印キーでサイズ調整）
map cmd+r start_resizing_window

# ■ ウィンドウを閉じる
# 現在のウィンドウを閉じる: cmd+shift+w
map cmd+shift+w close_window

# ╔═══════════════════════════════════════════════════════════╗
# ║                       レイアウト切り替え                        ║
# ╚═══════════════════════════════════════════════════════════╝

# 次のレイアウトへ切り替え: cmd+l
map cmd+l next_layout
# 前回使用したレイアウトへ戻る: cmd+shift+l
map cmd+shift+l last_used_layout

# 使用可能なレイアウト一覧
# - splits: 自由分割（デフォルト）
# - stack: 重ね表示（1つのウィンドウのみ表示）
# - tall: 左に大きいウィンドウ、右に小さいウィンドウ
# - fat: 上に大きいウィンドウ、下に小さいウィンドウ
# - grid: グリッド表示（均等配置）
enabled_layouts splits,stack,tall,fat,grid

# 1. 既定の Ctrl+Shift+Enter（新しいウィンドウを開く）を解除
map kitty_mod+enter

# 2. Shift+Enter で純粋な LF を送信
map shift+enter send_text all \n
