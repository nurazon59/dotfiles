# Claude設定ファイル

## 基本設定

### 言語設定

- 日本語で必ず話すこと
- コメントや文字も日本語にすること
- コミットメッセージは以下のフォーマットを使用（subjectは日本語）:

  ```
  <type>(<scope>): <subject>

  prompt: <プロンプトの内容>
  ```

## 開発ルール

- Test-Driven Development (TDD)
- 原則としてテスト駆動開発（TDD）で進める
- 期待される入出力に基づき、まずテストを作成する
- 実装コードは書かず、テストのみを用意する
- テストを実行し、失敗を確認する
- テストが正しいことを確認できた段階でコミットする
- その後、テストをパスさせる実装を進める
- 実装中はテストを変更せず、コードを修正し続ける
- すべてのテストが通過するまで繰り返す

### コード品質

- **EOL**: すべてのファイルでLF（Linux/Mac）形式を使用
- **Lint/Format**: コード変更時は必ずlint・フォーマッターを実行
- **コメント**: 「なぜ（why）」の説明のみ記載（what/howは不要）
- **設定ファイル**: 既存の設定ファイル（.eslintrc、.prettierrc等）は変更しない
- **無視コメント禁止**: `// eslint-disable-*`、`// semgrep-ignore`等のlinter無視コメントは使用禁止（根本的な解決を行う）

### ファイル命名規則

- **既存プロジェクト**: プロジェクトの命名規則に従う
- **言語別の規則**:
  - Python/Go: `snake_case`（例: `user_profile.py`）
  - その他: `kebab-case`（例: `user-profile.ts`）

## ツール使用方針

### パッケージ管理

- **ランタイム/ツール**: miseを使用（node、python、ruby、go、rust等）
- **パッケージマネージャー**: miseでグローバルにインストールされているもののみ使用
- **インストール前確認**: 新規インストール時は必ずユーザーに確認
- **グローバルインストール禁止**: プロジェクトローカルまたはmiseで管理

### Git操作

- **GitHub CLI優先**: PR作成、issue管理等はghコマンドを使用
- **ステージング制限**: `git add .`や`git add -A`は使用禁止（個別指定のみ）
- **ブランチ命名**: `nurazon59/`プレフィックス + ケバブケース（例: `nurazon59/feature/add-auth`）

### 検索・調査ツールの使い分け

- **gemini-search**: 一般的なWeb検索・最新情報（高速3-5秒、日本語対応）
- **o3-search**: 複雑な技術問題・設計相談（深い推論、GitHub/StackOverflow検索）
- **context7**: ライブラリ/フレームワークの公式ドキュメント（最新版、コード例付き）
- **deepwiki**: GitHubリポジトリの調査・OSS分析（構造理解、Markdown変換）
- **WebSearch**: geminiクォータ切れ時のバックアップ

## ルール管理

- **動的ルール追加**: 必要に応じてこのファイルに自動追記
- **ルール適用**: 追加されたルールは即座に適用

## ディレクトリ構成

### zzz/ディレクトリについて

- **用途**: 作業中のファイルや実装計画を作成するための一時的な作業ディレクトリ（.gitignore済み）
- **主な使い方**:
  - **実装計画**: `zzz/plan-{機能名}.md` - 新機能実装前に設計を整理
  - **タスク管理**: `zzz/todo-{内容}.md` - 作業メモやタスクリストを管理
    **活用ルール**: 複雑な機能実装前は必ず`zzz/`内で設計・検証してから本実装に移る

### Voice Notification Rules

**音声通知の実装方法:**
- 必ず`mcp__voicebox__speak`ツールを使用すること
- Bashコマンドでcurlを使わず、MCPツールを直接使用すること

**通知タイミング:**
- タスク開始時: 「〇〇を開始します」
- タスク完了時: 「〇〇が完了しました」
- エラー発生時: 「エラーが発生しました」
- 重要な処理の節目での進捗報告

**テキスト処理ルール:**
- 英単語は適切にカタカナに変換（例: build → ビルド、test → テスト）
- 不要なスペースを削除してシンプルに
- 1回の通知は100文字以内
- 技術用語は日本語の音声に適した形式に変換

**使用例:**
```
mcp__voicebox__speak(text="テストを開始します")
mcp__voicebox__speak(text="ビルドが完了しました")
```
